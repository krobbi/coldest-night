# NightScript Version 3.
# Menu Test
# Test for deeply nested menus.

freeze();
show();

say("Menu test");

menu { option("A"){
	say("A <-");
	
	menu { option("A"){
		say("AA <-");
		
		menu { option("A"){
			say("AAA <-");
			say("AA -> A");
		} option("B"){
			say("AAB <-");
			say("AA -> B");
		} option("C"){
			say("AAC <-");
			say("AA -> C");
		}}
		
		say("A -> A");
	} option("B"){
		say("AB <-");
		
		menu { option("A"){
			say("ABA <-");
			say("AB -> A");
		} option("B"){
			say("ABB <-");
			say("AB -> B");
		} option("C"){
			say("ABC <-");
			say("AB -> C");
		}}
		
		say("A -> B");
	} option("C"){
		say("AC <-");
		
		menu { option("A"){
			say("ACA <-");
			say("AC -> A");
		} option("B"){
			say("ACB <-");
			say("AC -> B");
		} option("C"){
			say("ACC <-");
			say("AC -> C");
		}}
		
		say("A -> C");
	}}
	
	say("-> A");
} option("B"){
	say("B <-");
	
	menu { option("A"){
		say("BA <-");
		
		menu { option("A"){
			say("BAA <-");
			say("BA -> A");
		} option("B"){
			say("BAB <-");
			say("BA -> B");
		} option("C"){
			say("BAC <-");
			say("BA -> C");
		}}
		
		say("B -> A");
	} option("B"){
		say("BB <-");
		
		menu { option("A"){
			say("BBA <-");
			say("BB -> A");
		} option("B"){
			say("BBB <-");
			say("BB -> B");
		} option("C"){
			say("BBC <-");
			say("BB -> C");
		}}
		
		say("B -> B");
	} option("C"){
		say("BC <-");
		
		menu { option("A"){
			say("BCA <-");
			say("BC -> A");
		} option("B"){
			say("BCB <-");
			say("BC -> B");
		} option("C"){
			say("BCC <-");
			say("BC -> C");
		}}
		
		say("B -> C");
	}}
	
	say("-> B");
} option("C"){
	say("C <-");
	
	menu { option("A"){
		say("CA <-");
		
		menu { option("A"){
			say("CAA <-");
			say("CA -> A");
		} option("B"){
			say("CAB <-");
			say("CA -> B");
		} option("C"){
			say("CAC <-");
			say("CA -> C");
		}}
		
		say("C -> A");
	} option("B"){
		say("CB <-");
		
		menu { option("A"){
			say("CBA <-");
			say("CB -> A");
		} option("B"){
			say("CBB <-");
			say("CB -> B");
		} option("C"){
			say("CBC <-");
			say("CB -> C");
		}}
		
		say("C -> B");
	} option("C"){
		say("CC <-");
		
		menu { option("A"){
			say("CCA <-");
			say("CC -> A");
		} option("B"){
			say("CCB <-");
			say("CC -> B");
		} option("C"){
			say("CCC <-");
			say("CC -> C");
		}}
		
		say("C -> C");
	}}
	
	say("-> C");
}}

hide();
thaw();

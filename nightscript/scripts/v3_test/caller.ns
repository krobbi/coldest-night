# NightScript Version 3.
# Caller Test
# Call and run a program.

# Calling pause without this would cause a softlock unless another source
# unpauses us.
doNotPause();

freeze();
show();

# The call and run functions take an absolute key and not an include path.
# Putting this string in an include would try to load a program from
# "v3_test/v3_test/callee".
say("Calling a program...");
call("v3_test/callee");

name("When using call...");
say("Control flow stops until the called program finishes.");
name();

say("Running a program...");
run("v3_test/callee");

name("When using run...");
say("The called program runs in parallel and control flow continues.");
name();

pause();
say("We can even pause the game while this happens.");
unpause();

hide();
thaw();

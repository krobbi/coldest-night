# NightScript Version 3.
# FizzBuzz Test
# Run FizzBuzz up to a given number.

freeze();
show();

const OPTION_A = 20;
const OPTION_B = 50;
const OPTION_C = 100;

var max = OPTION_A;

say("Run FizzBuzz up to...");

menu {
	option format(OPTION_A) max = OPTION_A;
	option format(OPTION_B) max = OPTION_B;
	option format(OPTION_C) max = OPTION_C;
}

say(format("Will run FizzBuzz up to {0}!", max));

const FIZZ = 3;
const BUZZ = 5;

var next_fizz = FIZZ;
var next_buzz = BUZZ;

var value = 0;

while value < max {
	value = value + 1;
	
	var has_factors = 0;
	var message = "";
	
	if value == next_fizz {
		has_factors = 1;
		next_fizz = next_fizz + FIZZ;
		message = format("{0}Fizz", message);
	}
	
	if value == next_buzz {
		has_factors = 1;
		next_buzz = next_buzz + BUZZ;
		message = format("{0}Buzz", message);
	}
	
	name(format("{0}/{1}", value, max));
	
	if has_factors {
		say(format("{0}!", message));
	} else {
		say(format(value));
	}
}

name();
say("Done!");

hide();
unfreeze();
